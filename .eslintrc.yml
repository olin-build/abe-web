parser: babel-eslint

extends:
  - airbnb

env:
  browser: true

# see https://eslint.org/docs/user-guide/configuring#specifying-globals
globals:
  process: false  # allow webpack `process.env[*]` variables

rules:
  max-len: [warn, { code: 120 }]
  # exceptions from eslint:recommended:
  no-unused-vars: [error, argsIgnorePattern: "^_" ]
  # exceptions from plugin:react/recommended:
  react/no-find-dom-node: warn
  react/prop-types: off           # TODO: #123

  # exceptions from airbnb style:
  camelcase: warn
  consistent-return: warn
  guard-for-in: warn
  import/no-unresolved: warn
  import/prefer-default-export: warn
  no-alert: warn
  no-mixed-operators: warn
  no-param-reassign: warn
  no-plusplus: off
  no-restricted-globals: warn
  no-restricted-syntax: warn
  no-underscore-dangle: [error, allow: [__REDUX_DEVTOOLS_EXTENSION_COMPOSE__]]
  no-use-before-define: warn
  prefer-destructuring: warn
  react/forbid-prop-types: warn
  react/jsx-filename-extension: warn
  react/jsx-no-target-blank: warn
  react/no-multi-comp: warn
  react/no-unused-prop-types: warn
  react/no-unused-state: warn
  react/prefer-stateless-function: warn
  react/require-default-props: warn
  react/sort-comp: warn

  # TODO: #118 accessibility
  jsx-a11y/anchor-is-valid: off
  jsx-a11y/click-events-have-key-events: off
  jsx-a11y/label-has-for: off
  jsx-a11y/no-static-element-interactions: off

  # Fixable exceptions to Airbnb style guide.
  indent: warn
  react/jsx-indent: off

overrides:
  # server:
  - files: [ "index.html.js", "server.js", "webpack.config.js" ]
    parser: esprima
    env:
      browser: false
      node: true
    rules:
      no-console: off
      global-require: off  # this warning doesn't apply to non-babel server
  # tests:
  - files: [ "**/__test__/**/*.js", "**/*.test.js", "**/*.test.jsx" ]
    env:
      jest: true
    rules:
      import/no-extraneous-dependencies: off
